{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class JsInterfaceService {\n  saveImageEvent(data) {\n    console.log('saveImageEvent', data);\n    const body = JSON.stringify(data);\n    const ua = navigator.userAgent.toLowerCase();\n    const isAndroid = ua.indexOf('android') > -1;\n    try {\n      if (isAndroid) {\n        let android = web;\n        console.log('isAndroid');\n        android.saveImageEvent(body);\n      } else {\n        window.webkit.messageHandlers.saveImageEvent.postMessage(body);\n      }\n    } catch (error) {\n      console.log('isWeb');\n    }\n  }\n  shareImageEvent(data) {\n    console.log('shareImageEvent', data);\n    const body = JSON.stringify(data);\n    const ua = navigator.userAgent.toLowerCase();\n    const isAndroid = ua.indexOf('android') > -1;\n    try {\n      if (isAndroid) {\n        let android = web;\n        console.log('isAndroid');\n        android.shareImageEvent(body);\n      } else {\n        window.webkit.messageHandlers.shareImageEvent.postMessage(body);\n      }\n    } catch (error) {\n      console.log('isWeb');\n    }\n  }\n}\nJsInterfaceService.ɵfac = function JsInterfaceService_Factory(t) {\n  return new (t || JsInterfaceService)();\n};\nJsInterfaceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: JsInterfaceService,\n  factory: JsInterfaceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAcA,OAAM,MAAOA,kBAAkB;EACtBC,cAAc,CAACC,IAAY;IAChCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,IAAI,CAAC;IAEnC,MAAMG,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;IACjC,MAAMM,EAAE,GAAGC,SAAS,CAACC,SAAS,CAACC,WAAW,EAAE;IAC5C,MAAMC,SAAS,GAAGJ,EAAE,CAACK,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAC5C,IAAI;MACF,IAAID,SAAS,EAAE;QACb,IAAIE,OAAO,GAAGC,GAAG;QACjBZ,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;QACxBU,OAAO,CAACb,cAAc,CAACI,IAAI,CAAC;OAC7B,MAAM;QACLW,MAAM,CAACC,MAAM,CAACC,eAAe,CAACjB,cAAc,CAACkB,WAAW,CAACd,IAAI,CAAC;;KAEjE,CAAC,OAAOe,KAAK,EAAE;MACdjB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;EAExB;EAEOiB,eAAe,CAACnB,IAAY;IACjCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,IAAI,CAAC;IAEpC,MAAMG,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;IACjC,MAAMM,EAAE,GAAGC,SAAS,CAACC,SAAS,CAACC,WAAW,EAAE;IAC5C,MAAMC,SAAS,GAAGJ,EAAE,CAACK,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAC5C,IAAI;MACF,IAAID,SAAS,EAAE;QACb,IAAIE,OAAO,GAAGC,GAAG;QACjBZ,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;QACxBU,OAAO,CAACO,eAAe,CAAChB,IAAI,CAAC;OAC9B,MAAM;QACLW,MAAM,CAACC,MAAM,CAACC,eAAe,CAACG,eAAe,CAACF,WAAW,CAACd,IAAI,CAAC;;KAElE,CAAC,OAAOe,KAAK,EAAE;MACdjB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;;EAExB;;AArCWJ,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;SAAlBA,kBAAkB;EAAAsB,SAAlBtB,kBAAkB;EAAAuB,YAFjB;AAAM","names":["JsInterfaceService","saveImageEvent","data","console","log","body","JSON","stringify","ua","navigator","userAgent","toLowerCase","isAndroid","indexOf","android","web","window","webkit","messageHandlers","postMessage","error","shareImageEvent","factory","providedIn"],"sourceRoot":"","sources":["/Users/matira.thanetkulabut/Projects/paotang-test/image-share/src/app/js-interface.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nexport interface JavascriptCallback {\n  saveImageEvent(data: any): any;\n  shareImageEvent(data: any): any;\n}\n\ndeclare const web: JavascriptCallback;\ndeclare const window: any;\ndeclare const webkit: any;\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class JsInterfaceService {\n  public saveImageEvent(data: string) {\n    console.log('saveImageEvent', data);\n\n    const body = JSON.stringify(data);\n    const ua = navigator.userAgent.toLowerCase();\n    const isAndroid = ua.indexOf('android') > -1;\n    try {\n      if (isAndroid) {\n        let android = web;\n        console.log('isAndroid');\n        android.saveImageEvent(body);\n      } else {\n        window.webkit.messageHandlers.saveImageEvent.postMessage(body);\n      }\n    } catch (error) {\n      console.log('isWeb');\n    }\n  }\n\n  public shareImageEvent(data: string) {\n    console.log('shareImageEvent', data);\n\n    const body = JSON.stringify(data);\n    const ua = navigator.userAgent.toLowerCase();\n    const isAndroid = ua.indexOf('android') > -1;\n    try {\n      if (isAndroid) {\n        let android = web;\n        console.log('isAndroid');\n        android.shareImageEvent(body);\n      } else {\n        window.webkit.messageHandlers.shareImageEvent.postMessage(body);\n      }\n    } catch (error) {\n      console.log('isWeb');\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}