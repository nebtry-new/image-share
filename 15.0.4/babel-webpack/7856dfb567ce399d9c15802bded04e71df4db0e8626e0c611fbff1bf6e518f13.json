{"ast":null,"code":"import _asyncToGenerator from \"/Users/matira.thanetkulabut/Projects/paotang-test/image-share/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { JsInterfaceService } from './js-interface.service';\nimport html2canvas from \"html2canvas\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./js-interface.service\";\nexport class AppComponent {\n  constructor(jsInterface) {\n    this.jsInterface = jsInterface;\n    this.title = 'image-share';\n    this.imageBase64 = '';\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.imageBase64 = yield _this.onExportImage('slip');\n      _this.jsInterface.saveImageEvent(_this.imageBase64);\n    })();\n  }\n  onShare() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.imageBase64 = yield _this2.onExportImage('slip');\n      _this2.jsInterface.shareImageEvent(_this2.imageBase64);\n    })();\n  }\n  onExportImage(elemId) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.imageBase64.length === 0) {\n        let el = document.querySelector(`#${elemId}`);\n        let options = {\n          logging: true,\n          useCORS: true\n        };\n        const canvas = yield html2canvas(el, options);\n        const data = canvas.toDataURL(\"image/jpg\");\n        // console.log(data);\n        return data;\n      } else {\n        return _this3.imageBase64;\n      }\n    })();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.JsInterfaceService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"image-share-root\"]],\n  decls: 9,\n  vars: 0,\n  consts: [[2, \"display\", \"flex\", \"flex-direction\", \"column\"], [\"id\", \"slip\"], [3, \"click\"], [\"src\", \"https://cdn.pixabay.com/photo/2022/12/10/08/38/christmas-tree-7646798_960_720.jpg\", \"alt\", \"\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n      i0.ɵɵtext(2, \" Lorem ipsum, dolor sit amet consectetur adipisicing elit. Sit veritatis in culpa quis quasi minima? Quasi ipsa animi consequuntur error soluta deleniti voluptates, magnam aliquam, dolorum cupiditate repellendus excepturi qui facilis quisquam debitis impedit fugit veniam nostrum inventore. Beatae, id? repellendus et nobis, at nesciunt incidunt deleniti sint optio. A eum reprehenderit debitis, officiis ex cumque deleniti in ipsam ducimus illo optio eos dignissimos amet nulla error odio corporis sequi animi sunt aut ea! Pariatur odit ducimus mollitia voluptatem quis molestias \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_4_listener() {\n        return ctx.onShare();\n      });\n      i0.ɵɵtext(5, \"Share\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"img\", 3);\n      i0.ɵɵelementStart(7, \"div\");\n      i0.ɵɵtext(8, \" temporibus, quae dolorum maxime corrupti cupiditate. Officia aliquid nostrum nobis fuga cumque, rerum ipsum reiciendis itaque eos debitis et cum nesciunt sint autem deleniti adipisci ipsa vero ipsam dolore incidunt. Assumenda sequi animi perferendis odit, labore reprehenderit ea quam pariatur? Minus voluptatem sequi aspernatur eius excepturi doloremque ea consectetur quo magni officiis quidem, et molestias illum mollitia? Hic itaque eos quibusdam perferendis minus eius iste, tenetur magni? Modi nemo molestiae dolores,di perferendis consectetur, quisquam corporis. Quod non nulla sapiente tenetur asperiores, nostrum excepturi libero neque veritatis cum voluptates odio provident praesentium fugiat incidunt? \");\n      i0.ɵɵelementEnd()()();\n    }\n  },\n  styles: [\"[_nghost-%COMP%]{position:absolute;width:100%;height:100%;overflow-x:hidden;box-sizing:border-box}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}